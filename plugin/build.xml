<project name="MosaicToolbox" default="" basedir=".">
    <description>
        Mosaic Toolbox build file
    </description>
	<property name="src" location="src" />
	<property name="build" location="bin" />
	<property name="dist"  location="dist" />
 
	<property name="pluginsDir"  location="$basedir/../../IJ/plugins/Mosaic_Toolbox/" />
 
	<property name="user.name" value="Mosaic" />
	<property name="jarfilename" value="Mosaic_Toolbox"/>

	<target name="main" depends="compress" description="Main target">
		<echo>
			Building the .jar file.
		</echo>
	</target>
	<target name="compress" depends="" description="generate the distribution">
	 	<jar jarfile="${pluginsDir}/${jarfilename}.jar">
	 		<fileset dir="." includes="plugins.config" />
			<fileset dir="${build}" includes="**/*.*" />
	 		<manifest>
	 			<attribute name="Built-By" value="${user.name}"/>
	 		</manifest>
	 	</jar>
	</target>
	<target name="clean" description="deletes all binaries and jars">
		<echo>
			Deleting files...
		</echo>
		<delete>
			<fileset dir="${pluginsDir}" includes="${jarfilename}.jar" />
		</delete>
		<delete>
			<fileset dir="${build}" includes="*.class" />
		</delete>
		<echo>
			... done.
		</echo>
	</target>
</project>